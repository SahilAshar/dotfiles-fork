#!/usr/bin/env bash

ln -fs "$DOTFILES/gitconfig" "$HOME/.gitconfig"
ln -fs "$DOTFILES/gitignore" "$HOME/.gitignore"

ln -fs "$DOTFILES/zsh/zshrc" "$HOME/.zshrc"
ln -fs "$DOTFILES/zsh/zshenv" "$HOME/.zshenv"

mkdir -p "$HOME/.config/nvim"
ln -fs "$DOTFILES/editors/neovim/init.vim" "$HOME/.config/nvim/init.vim"
ln -fs "$DOTFILES/editors/neovim/plugins/coc.json" "$HOME/.config/nvim/coc-settings.json"

ln -fs "$DOTFILES/tool-versions" "$HOME/.tool-versions"

ln -fs "$DOTFILES/tmux.conf.local" "$HOME/.tmux.conf.local"
ln -fs "$DOTFILES/submodules/tmux/.tmux.conf" "$HOME/.tmux.conf"

if ./zsh/functions/is_mac; then
  mkdir -p "$HOME/.config/alacritty"
  ln -fs "$DOTFILES/alacritty.yml" "$HOME/.config/alacritty/alacritty.yml"

  ln -fs "$DOTFILES/editors/vscode/settings.json" "$HOME/Library/Application Support/Code/User/settings.json"
  ln -fs "$DOTFILES/editors/vscode/keybindings.json" "$HOME/Library/Application Support/Code/User/keybindings.json"
  ln -fs "$DOTFILES/editors/xvimrc" "$HOME/.xvimrc"
elif ./zsh/functions/is_wsl; then
  ./bin/wsl/mklink_wsl_to_windows \
    /Users/saweiss/.vsvimrc \
    "$DOTFILES/editors/visualstudio/vsvimrc"

  ./bin/wsl/mklink_wsl_to_windows \
    /Users/saweiss/AppData/Roaming/Code/User/settings.json \
    "$DOTFILES/editors/vscode/settings.json"
  ./bin/wsl/mklink_wsl_to_windows \
    /Users/saweiss/AppData/Roaming/Code/User/keybindings.json \
    "$DOTFILES/editors/vscode/keybindings.json"

  ./bin/wsl/mklink_wsl_to_windows \
    "/Users/saweiss/AppData/Roaming/Microsoft/Windows/Start Menu/Programs/Startup/disable_ctrl_esc.ahk" \
    "$DOTFILES/windows/disable_ctrl_esc.ahk"
fi
