#!/usr/bin/env zsh

export DOTFILES="$HOME/.files"

typeset -U path

# Load util functions, Brew, and Nix before basically anything else happens
source "$DOTFILES/zsh/functions.zsh"
source "$DOTFILES/zsh/brew.zsh"
source "$DOTFILES/zsh/nix.zsh"

# See: https://geoff.greer.fm/lscolors
export CLICOLOR=1
export LSCOLORS="GxgxcxdxCxegedabagacad"
export LS_COLORS='di=1;34:ln=36:so=32:pi=33:ex=1;32:bd=34;46:cd=34;43:su=30;41:sg=30;46:tw=30;42:ow=30;43'

export HOSTNAME="$(hostname)"

if command -v nvim > /dev/null; then
  export EDITOR="nvim"
else
  export EDITOR="vim"
fi

if command -v rustc > /dev/null; then
  export RUST_SRC_PATH="$(rustc --print sysroot)/lib/rustlib/src/rust/src"
fi

if [[ -d "$HOME/Library/Android/sdk" ]]; then
  export ANDROID_SDK_ROOT="$HOME/Library/Android/sdk"
  export ANDROID_HOME="$ANDROID_SDK_ROOT" # Some older apps want this
fi

if $DOTFILES/zsh/functions/is_wsl; then
  export WINDOWS_ROOT="/mnt/c"
  export WINDOWS_HOME="$WINDOWS_ROOT/Users/saweiss"
fi
